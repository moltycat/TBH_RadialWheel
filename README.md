# TBH_RadialWheel

Harmony Radial Wheel — это настраиваемое радиальное меню, разработанное для ускорения рабочего процесса в Toon Boom Harmony (или других приложениях). Оно позволяет мгновенно вызывать JS-скрипты и клавиатурные макросы через визуальный интерфейс, который появляется прямо под курсором мыши. 

Основные возможности:
* Полная кастомизация: Добавляйте любое количество сегментов и подменю через встроенный графический редактор. 
* Два типа действий:
  1 JS Script: Выполнение JavaScript кода (интеграция с Harmony через файл команд). 
  2 Keyboard Macro: Эмуляция нажатий клавиш с поддержкой модификаторов (Ctrl, Shift, Alt). 
* Умные хоткеи: Возможность назначить активацию меню на любую клавишу в сочетании с модификаторами. 
* Визуальный редактор: Настройка радиуса меню, имен элементов и выбор иконок (PNG). 
* Автоматизация: Автоматическое подтягивание иконок и названий при выборе скрипта из папки actions. 

======================Системные требования===========================
Система: Windows

======================Установка===========================
* Скачать и распоковать папку HarmonyRadialWheel по пути "C:\", Убедитесь, что полсе распоковки файл с командами будет на нужном месте "C:\HarmonyRadialWheel\harmony_command.json"
* Установите Python 3.13 с офф сайта https://www.python.org/downloads/ или воспользуйтесь установщиком в "C:\HarmonyRadialWheel\Setup\Setup 1 python 3.13.7.exe"
* После установки python установите необходимые библиотеки через cmd (pip install PySide6 pynput) или воспользуйтесь установщиком "C:\HarmonyRadialWheel\Setup\Setup 2.bat"
* перместите файл "C:\HarmonyRadialWheel\Setup\HarmonyFiles\Molty_RadialWheel.js" по пути "C:\Users\****\AppData\Roaming\Toon Boom Animation\Toon Boom Harmony Premium\2500-scripts\Molty_RadialWheel.js"
если используете другую версию хармони, то вместо 2500-scripts выберете соответсвующую папку
* Переместите файл "C:\HarmonyRadialWheel\Setup\HarmonyFiles\Molty_RadialWheel.png" по пути "C:\Users\sok-g\AppData\Roaming\Toon Boom Animation\Toon Boom Harmony Premium\2500-scripts\script-icons\Molty_RadialWheel.png"
* Для полного функционала перместите файлы  Molty_Layers_script.js и Molty_Line_Thicknessю.js из папки "C:\HarmonyRadialWheel\Setup\HarmonyFiles\Scripts" по пути "C:\Program Files (x86)\Toon Boom Animation\Toon Boom Harmony 25 Premium\resources\scripts\"
если у вас не 25 версия, то необходимо выбрать нужну папку в "C:\Program Files (x86)\Toon Boom Animation\"
* добавьте скрипт Molty_RadialWheel в интерфейсе toon boom harmony как обычный скрипт

======================Использование===========================
* Запустить Molty_RadialWheel скрипт в среде toon boom harmony. если всё сделано правильно, то должно появится окно "✅RadialWheelHost started✅"
* Переключиться на английскую раскладку! Запуск должен быть на английской раскладке, после запуска раскладки можно менять как угодно.
* Запустить нужное колесо через ярлык в папке "C:\HarmonyRadialWheel" можно запускать несколько разных виджетов одновременно
  Доступно 4 шаблона:
    Molty_RadialWheel_Animation - набор инструментов для анимации 
    Molty_RadialWheel_Drawing - набор инструментов для рисования
    Molty_RadialWheel_NodeView - набор инструментов для риггинга
    Molty_RadialWheel_Custom - кастомный шаблон
* Свернуть окно с настройками колеса
* Зажать горячую клавишу указанную в настройках и мышкой навестись на нужный инструмент
* Отпустить горячую клавишу удерживая курсор над нужным интсрументом
  
======================Настройка виджета===========================
В первой строке можно настроить горячую клавишу для вызова колеса, а также его размер
Add Item - добавляет элемент на основное меню
Save JSON - сохраняет настройки и применяет изменения
Add Sub - добавления под-элемент под основной элемент
В поле элемента:
* поле для ввода названия
* выбор режима элемента: js шаблон или макрос
* для js шаблона в выпадающем списке можно выбрать необходимый инструмент из доступных
* в поле иконки можно вручную указать путь к любому рисунку png
* ❌ - удаляет элемент
* стрелки - меняют порядок элементов на колесе

=====================Структура файлов===========================

logo.png - будет отображаться в центре колеса
Molty_RadialWheel.pyw — основной исполняемый файл приложения. 
wheel_config.json — файл конфигурации колеса. 
actions/ — папка для скриптов и их иконок. 
C:\HarmonyRadialWheel\harmony_command.json — файл, через который передаются команды в Harmony. 

======================Дополнительно===========================
в шаблоне Molty_RadialWheel_NodeView используются кастомные скрипты, описание которых доступно по ссылкам:
* Molty_BG_Group_clean:
* Molty_Layers_script:
* Molty_rename_CompPeg:
* Molty_xPivot_to_0:
* Molty_line_scale_dependent:
* Molty_def_rename:
* Molty_composite_AP_rename:
 




